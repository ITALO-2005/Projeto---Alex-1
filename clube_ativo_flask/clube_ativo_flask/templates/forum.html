{% extends 'base.html' %}
{% block title %}Fórum de Alunos - Hub Comunitário{% endblock %}

{% block content %}
    <div class="page-header-container">
        <h1 class="page-header">Fórum de Alunos</h1>
        <a href="{{ url_for('criar_topico') }}" class="btn"><i class="fas fa-plus"></i> Criar Novo Tópico</a>
    </div>
    <div class="forum-list">
        {% for topico in topicos %}
            <a href="{{ url_for('detalhe_topico', topico_id=topico.id) }}" class="card topic-item">
                <div class="topic-main">
                    <h4>{{ topico.titulo }}</h4>
                    <!-- Acesso por chave -->
                    <p class="text-muted">Iniciado por {{ topico['autor_username'] }} em {{ topico['data_criacao'] | format_date }}</p>
                </div>
                <div class="topic-meta">
                    <!-- Acesso por chave -->
                    <span><i class="fas fa-comments"></i> {{ topico['total_posts'] }} Respostas</span>
                    <i class="fas fa-chevron-right"></i>
                </div>
            </a>
        {% else %}
            <div class="card empty-state">
                <p>Nenhum tópico no fórum ainda. Seja o primeiro a criar um!</p>
            </div>
        {% endfor %}
    </div>
{% endblock %}
